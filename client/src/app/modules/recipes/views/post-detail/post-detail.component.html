<h2 class="skinny">
  <a [routerLink]="['/', 'recipes', 'catalog']" style="text-decoration: none"
    >Recipes
  </a>
  / <span *ngIf="post">{{ post.title }}</span>
</h2>

<div class="mt-4">
  <div class="row" *ngIf="post; else emptyPostDetail">
    <div class="col-md-8">
      <div class="card border-0 shadow">
        <img class="card-img-top" [src]="post.banner" />
        <div class="card-body">
          <p>
            <span *ngFor="let tag of post.tags; let index = index">
              <a href="#">{{ tag }}</a>
              <span *ngIf="index < post.tags.length - 1"> â€¢ </span>
            </span>
          </p>
          <h1 class="display-5 font-weight-bold">{{ post.title }}</h1>
          <div class="d-flex justify-content-between align-items-baseline">
            <div class="text-muted">
              {{ post.createdAt | date }}
            </div>
            <div class="float-right">
              <button mat-button>
                <mat-icon
                  class="material-icons-outlined"
                  aria-hidden="false"
                  style="vertical-align: middle"
                  >thumb_up</mat-icon
                >
                {{ post.likes }}
              </button>
              <button mat-button>
                <mat-icon
                  class="material-icons-outlined"
                  aria-hidden="false"
                  style="vertical-align: middle"
                  >thumb_down</mat-icon
                >
                {{ post.dislikes }}
              </button>
              <button
                mat-button
                (click)="
                  post.saved
                    ? deletePostCollection(post._id)
                    : createPostCollection(post._id)
                "
              >
                <mat-icon
                  [class]="post.saved ? null : 'material-icons-outlined'"
                  aria-hidden="false"
                  style="vertical-align: middle"
                  >bookmarks</mat-icon
                >
              </button>
            </div>
          </div>

          <hr />
          <div class="d-flex justify-content-between mb-5">
            <span
              >Cooking Time: <strong>{{ post.cooking_time }}</strong></span
            >
            <span
              >Preperation Time: <strong>{{ post.prep_time }}</strong></span
            >
            <span
              >Calories: <strong>{{ post.calories }}</strong> kcal</span
            >
            <span
              >Servings: <strong>{{ post.servings }}</strong></span
            >
          </div>
          <h4>Ingredients</h4>
          <div class="row m-3">
            <div class="col-md-6" *ngFor="let ingredient of post.ingredients">
              {{ ingredient.quantity }} {{ ingredient.unit_of_measurement }} -
              {{ ingredient.name }}, {{ ingredient.description }}
            </div>
          </div>
          <h4>Instructions</h4>
          <ol>
            <li class="mt-3" *ngFor="let instruction of post.instructions">
              {{ instruction.description }}
            </li>
          </ol>
          <div class="text-center">
            <button mat-raised-button color="warn" [routerLink]="['cook']">
              Cook
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <h2>{{ post.author.firstName }} {{ post.author.lastName }}</h2>
      <p class="lead">Recipe Author</p>
      <p>
        {{ post.summary }}
      </p>
    </div>
  </div>
  <ng-template #emptyPostDetail>
    <p>No data.</p>
  </ng-template>
</div>
